# 代理模式

## 科学上网

VPN(虚拟专用网络)

为了屏蔽某些网站，一股神秘的东方力量会作用于你的 DNS 解析过程，告诉它：“你不能解析出 xxx.xxx.xxx.xxx（某个特殊 ip）的地址”

代理服务器是第三方的未禁用的 ip，代理服务器访问目标网站后返回响应体

## 生产实践

### 事件代理

一个父元素下有多个子元素，由父元素对事件进行处理和分发、间接地将其作用于子元素，因此这种操作从模式上划分属于代理模式

通过父元素代理

### 虚拟代理

代理进行图片预加载

通过预加载函数代理

### 缓存代理

代理来帮我们在进行计算的同时，进行计算结果的缓存了

如 ahooks 的 useRquest 的 cacheKey

在发起请求前进行代理，如果有缓存，则使用缓存的数据，否则发起请求并缓存

通过缓存函数代理

### 保护代理

Proxy，它本身就是为拦截而生的，所以我们目前实现保护代理时，考虑的首要方案就是 ES6 中的 Proxy

通过 proxy 代理

## 小结

代理模式的目的是十分多样化的，既可以是为了加强控制、拓展功能、提高性能，也可以仅仅是为了优化我们的代码结构、实现功能的解耦 —— A 不能直接访问 B，A 需要借助一个帮手来访问 B，这个帮手就是代理器
